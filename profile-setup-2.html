<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Preferences</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        ::-webkit-scrollbar { display: none; }
        body { animation: pageEnter 0.3s ease-out; }
        @keyframes pageEnter { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563EB',
                        success: '#10B981',
                        warning: '#F59E0B',
                        danger: '#DC2626',
                        neutral: {
                            50: '#FFFFFF',
                            100: '#F9FAFB',
                            200: '#E5E7EB',
                            700: '#6B7280',
                            900: '#111827'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif']
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-neutral-50 font-sans antialiased">
    <div id="health-preferences-screen" class="w-full min-h-[840px] flex flex-col">
        
        <header id="header" class="px-5 pt-4 pb-3 bg-white border-b border-neutral-200">
            <div class="flex items-center justify-between">
                <button id="back-btn" class="w-11 h-11 flex items-center justify-center rounded-full hover:bg-neutral-100 active:scale-95 transition-all duration-200">
                    <i class="fa-solid fa-arrow-left text-neutral-900 text-lg"></i>
                </button>
                <div class="flex-1 text-center">
                    <h1 class="text-base font-semibold text-neutral-900">Health Preferences</h1>
                </div>
                <div class="w-11"></div>
            </div>
        </header>

        <div id="progress-indicator" class="px-5 py-4 bg-white border-b border-neutral-200">
            <div class="flex items-center justify-between mb-2">
                <span class="text-xs font-medium text-neutral-700">Step 2 of 2</span>
                <span class="text-xs font-medium text-primary">100%</span>
            </div>
            <div class="w-full h-2 bg-neutral-200 rounded-full overflow-hidden">
                <div class="h-full bg-primary rounded-full transition-all duration-300" style="width: 100%"></div>
            </div>
        </div>

        <main id="main-content" class="flex-1 overflow-y-auto px-5 py-6">
            
            <div id="hero-section" class="text-center mb-6">
                <div class="w-16 h-16 bg-success/10 rounded-2xl flex items-center justify-center mx-auto mb-3">
                    <i class="fa-solid fa-heart-pulse text-success text-3xl"></i>
                </div>
                <h2 class="text-xl font-bold text-neutral-900 mb-2">Set Your Health Routine</h2>
                <p class="text-sm text-neutral-700 leading-relaxed px-2">Customize reminders and goals to support your daily wellness</p>
            </div>

            <form id="preferences-form" class="space-y-6">
                
                <div id="daily-checkin-section" class="bg-white rounded-xl p-4 border-2 border-neutral-200">
                    <div class="flex items-start gap-3 mb-4">
                        <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fa-solid fa-clock text-primary text-lg"></i>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-sm font-semibold text-neutral-900 mb-1">Daily Check-In Reminder</h3>
                            <p class="text-xs text-neutral-700 leading-relaxed">When should we remind you to log your health?</p>
                        </div>
                    </div>

                    <div id="time-picker-field" class="form-group">
                        <label for="checkin-time" class="block text-sm font-semibold text-neutral-900 mb-2">
                            Reminder Time
                        </label>
                        <div class="relative">
                            <input 
                                type="time" 
                                id="checkin-time" 
                                name="checkin-time"
                                value="09:00"
                                class="w-full h-[52px] px-4 bg-neutral-50 border-2 border-neutral-200 rounded-xl text-sm text-neutral-900 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200"
                            >
                            <i class="fa-solid fa-bell absolute right-4 top-1/2 -translate-y-1/2 text-neutral-700 pointer-events-none"></i>
                        </div>
                        <p class="text-xs text-neutral-700 mt-2">We'll send you a gentle notification</p>
                    </div>
                </div>

                <div id="medication-reminder-section" class="bg-white rounded-xl p-4 border-2 border-neutral-200">
                    <div class="flex items-start gap-3 mb-4">
                        <div class="w-10 h-10 bg-warning/10 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fa-solid fa-pills text-warning text-lg"></i>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-sm font-semibold text-neutral-900 mb-1">Medication Reminders</h3>
                            <p class="text-xs text-neutral-700 leading-relaxed">Never miss your medications</p>
                        </div>
                    </div>

                    <div id="medication-options" class="space-y-3">
                        <button type="button" id="add-medication-btn" class="w-full h-[52px] bg-primary text-white text-sm font-semibold rounded-xl flex items-center justify-center gap-2 active:scale-[0.98] transition-transform duration-200 shadow-lg">
                            <i class="fa-solid fa-plus"></i>
                            Add Medication Schedule
                        </button>
                        <button type="button" id="skip-medication-btn" class="w-full h-[52px] bg-neutral-50 text-neutral-900 text-sm font-semibold rounded-xl border-2 border-neutral-200 flex items-center justify-center gap-2 active:scale-[0.98] transition-transform duration-200">
                            Skip For Now
                        </button>
                    </div>

                    <div id="medication-info" class="mt-3 flex items-start gap-2 bg-neutral-50 rounded-lg p-3">
                        <i class="fa-solid fa-info-circle text-primary text-sm mt-0.5"></i>
                        <p class="text-xs text-neutral-700 leading-relaxed">You can add medications anytime from your profile</p>
                    </div>
                </div>

                <div id="hydration-goal-section" class="bg-white rounded-xl p-4 border-2 border-neutral-200">
                    <div class="flex items-start gap-3 mb-4">
                        <div class="w-10 h-10 bg-success/10 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fa-solid fa-droplet text-success text-lg"></i>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-sm font-semibold text-neutral-900 mb-1">Daily Hydration Goal</h3>
                            <p class="text-xs text-neutral-700 leading-relaxed">Staying hydrated helps prevent pain crises</p>
                        </div>
                    </div>

                    <div id="hydration-slider-field" class="form-group">
                        <div class="flex items-center justify-between mb-3">
                            <label class="text-sm font-semibold text-neutral-900">Glasses per day</label>
                            <div class="flex items-center gap-2 bg-primary/10 px-3 py-1.5 rounded-lg">
                                <i class="fa-solid fa-glass-water text-primary text-sm"></i>
                                <span id="hydration-value" class="text-base font-bold text-primary">8</span>
                            </div>
                        </div>

                        <input 
                            type="range" 
                            id="hydration-slider" 
                            name="hydration-goal"
                            min="6" 
                            max="12" 
                            value="8" 
                            step="1"
                            class="w-full h-2 bg-neutral-200 rounded-full appearance-none cursor-pointer accent-primary"
                        >

                        <div class="flex items-center justify-between mt-2 px-1">
                            <span class="text-xs text-neutral-700">6 glasses</span>
                            <span class="text-xs text-neutral-700">12 glasses</span>
                        </div>
                    </div>

                    <div id="hydration-recommendation" class="mt-4 bg-success/5 rounded-lg p-3 border border-success/20">
                        <div class="flex items-start gap-2">
                            <i class="fa-solid fa-lightbulb text-success text-sm mt-0.5"></i>
                            <p class="text-xs text-neutral-700 leading-relaxed">
                                <strong class="text-neutral-900">Recommended:</strong> 8-10 glasses daily for optimal health
                            </p>
                        </div>
                    </div>
                </div>

                <div id="language-preference-section" class="bg-white rounded-xl p-4 border-2 border-neutral-200">
                    <div class="flex items-start gap-3 mb-4">
                        <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fa-solid fa-language text-primary text-lg"></i>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-sm font-semibold text-neutral-900 mb-1">Language Preference</h3>
                            <p class="text-xs text-neutral-700 leading-relaxed">Choose your preferred language</p>
                        </div>
                    </div>

                    <div id="language-field" class="form-group">
                        <label for="language-select" class="block text-sm font-semibold text-neutral-900 mb-2">
                            App Language
                        </label>
                        <div class="relative">
                            <select 
                                id="language-select" 
                                name="language"
                                class="w-full h-[52px] px-4 bg-neutral-50 border-2 border-neutral-200 rounded-xl text-sm text-neutral-900 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200 appearance-none"
                            >
                                <option value="english" selected>English</option>
                                <option value="hausa">Hausa</option>
                                <option value="yoruba">Yoruba</option>
                                <option value="igbo">Igbo</option>
                                <option value="french">Français (French)</option>
                                <option value="swahili">Kiswahili (Swahili)</option>
                                <option value="arabic">العربية (Arabic)</option>
                            </select>
                            <i class="fa-solid fa-chevron-down absolute right-4 top-1/2 -translate-y-1/2 text-neutral-700 pointer-events-none text-sm"></i>
                        </div>
                    </div>
                </div>

            </form>

            <div id="privacy-banner" class="bg-primary/5 rounded-xl p-4 mt-6 border border-primary/20">
                <div class="flex items-start gap-3">
                    <i class="fa-solid fa-shield-check text-primary text-lg mt-0.5"></i>
                    <div class="flex-1">
                        <p class="text-xs text-neutral-700 leading-relaxed">
                            <strong class="text-neutral-900">Your preferences are saved locally.</strong> All settings work offline and sync when you're connected.
                        </p>
                    </div>
                </div>
            </div>

        </main>

        <footer id="footer" class="px-5 py-4 bg-white border-t border-neutral-200">
            <button id="complete-setup-btn" class="w-full h-[52px] bg-primary text-white text-base font-semibold rounded-xl flex items-center justify-center gap-2 hover:bg-blue-700 active:scale-[0.98] transition-all duration-200 shadow-lg">
                Complete Setup
                <i class="fa-solid fa-check text-sm"></i>
            </button>
        </footer>
    </div>

    <script>
        const hydrationSlider = document.getElementById('hydration-slider');
        const hydrationValue = document.getElementById('hydration-value');
        const checkinTimeInput = document.getElementById('checkin-time');
        const addMedicationBtn = document.getElementById('add-medication-btn');
        const skipMedicationBtn = document.getElementById('skip-medication-btn');
        const completeSetupBtn = document.getElementById('complete-setup-btn');
        const backBtn = document.getElementById('back-btn');
        const languageSelect = document.getElementById('language-select');

        hydrationSlider.addEventListener('input', function() {
            hydrationValue.textContent = this.value;
            
            const percent = ((this.value - this.min) / (this.max - this.min)) * 100;
            this.style.background = `linear-gradient(to right, #2563EB 0%, #2563EB ${percent}%, #E5E7EB ${percent}%, #E5E7EB 100%)`;
        });

        hydrationSlider.dispatchEvent(new Event('input'));

        addMedicationBtn.addEventListener('click', function() {
            this.style.transform = 'scale(0.98)';
            setTimeout(() => {
                this.style.transform = 'scale(1)';
            }, 100);
        });

        skipMedicationBtn.addEventListener('click', function() {
            this.style.transform = 'scale(0.98)';
            setTimeout(() => {
                this.style.transform = 'scale(1)';
                this.classList.add('bg-neutral-100');
                this.innerHTML = '<i class="fa-solid fa-check text-success text-sm"></i> Skipped';
                setTimeout(() => {
                    this.classList.remove('bg-neutral-100');
                    this.innerHTML = 'Skip For Now';
                }, 1500);
            }, 100);
        });

        completeSetupBtn.addEventListener('click', function() {
            this.style.transform = 'scale(0.98)';
            setTimeout(() => {
                this.style.transform = 'scale(1)';
                window.location.href = 'dashboard.html';
            }, 100);
        });

        backBtn.addEventListener('click', function() {
            this.style.transform = 'scale(0.95)';
            setTimeout(() => {
                this.style.transform = 'scale(1)';
                window.location.href = 'profile-setup-1.html';
            }, 100);
        });

        checkinTimeInput.addEventListener('focus', function() {
            this.parentElement.previousElementSibling.classList.add('text-primary');
        });

        checkinTimeInput.addEventListener('blur', function() {
            this.parentElement.previousElementSibling.classList.remove('text-primary');
        });

        languageSelect.addEventListener('focus', function() {
            this.parentElement.previousElementSibling.classList.add('text-primary');
        });

        languageSelect.addEventListener('blur', function() {
            this.parentElement.previousElementSibling.classList.remove('text-primary');
        });

        languageSelect.addEventListener('change', function() {
            const selectedOption = this.options[this.selectedIndex].text;
            const notification = document.createElement('div');
            notification.className = 'fixed top-20 left-1/2 -translate-x-1/2 bg-neutral-900 text-white px-4 py-2 rounded-lg text-xs z-50 shadow-lg';
            notification.textContent = `Language changed to ${selectedOption}`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transition = 'opacity 300ms';
                setTimeout(() => notification.remove(), 300);
            }, 2000);
        });
    </script>
</body>
</html>