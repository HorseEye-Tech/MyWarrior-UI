<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caregiver Registration</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>::-webkit-scrollbar { display: none;}
body { animation: pageEnter 0.3s ease-out; }
@keyframes pageEnter { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }</style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563EB',
                        success: '#10B981',
                        warning: '#F59E0B',
                        danger: '#DC2626',
                        neutral: {
                            50: '#FFFFFF',
                            100: '#F9FAFB',
                            200: '#E5E7EB',
                            700: '#6B7280',
                            900: '#111827'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif']
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-neutral-100 font-sans antialiased">
    <div id="caregiver-registration-screen" class="w-full min-h-[840px] flex flex-col bg-neutral-50">
        
        <header id="header" class="bg-white px-5 py-4 shadow-sm">
            <div class="flex items-center justify-between">
                <button id="back-btn" class="w-11 h-11 flex items-center justify-center text-neutral-900 active:bg-neutral-100 rounded-xl transition-all">
                    <i class="fa-solid fa-arrow-left text-lg"></i>
                </button>
                <div class="flex-1 flex justify-center">
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-gradient-to-br from-success to-green-700 rounded-lg flex items-center justify-center">
                            <i class="fa-solid fa-hands-holding-circle text-white text-sm"></i>
                        </div>
                        <span class="text-base font-bold text-neutral-900">Caregiver</span>
                    </div>
                </div>
                <div class="w-11"></div>
            </div>
        </header>

        <main id="main-content" class="flex-1 overflow-y-auto px-5 py-6">
            
            <div id="header-section" class="mb-6">
                <h1 class="text-[24px] leading-[32px] font-bold text-neutral-900 mb-2">Create Your Caregiver Account</h1>
                <p class="text-sm text-neutral-700 leading-relaxed">Join our community of supportive caregivers</p>
            </div>

            <form id="registration-form" class="space-y-5">
                
                <div id="full-name-field" class="form-group">
                    <label for="full-name" class="block text-sm font-semibold text-neutral-900 mb-2">
                        Full Name
                        <span class="text-danger">*</span>
                    </label>
                    <div class="relative">
                        <input 
                            type="text" 
                            id="full-name" 
                            name="full-name"
                            class="w-full h-12 px-4 pr-11 bg-white border-2 border-neutral-200 rounded-xl text-base text-neutral-900 placeholder-neutral-700 focus:outline-none focus:border-primary transition-all"
                            placeholder="Enter your full name"
                            required
                        >
                        <div class="absolute right-4 top-1/2 -translate-y-1/2 text-neutral-700">
                            <i class="fa-solid fa-user text-sm"></i>
                        </div>
                    </div>
                    <p class="text-xs text-neutral-700 mt-1.5 hidden error-message">
                        <i class="fa-solid fa-circle-exclamation text-danger"></i>
                        Please enter your full name
                    </p>
                </div>

                <div id="username-field" class="form-group">
                    <label for="username" class="block text-sm font-semibold text-neutral-900 mb-2">
                        Username
                        <span class="text-danger">*</span>
                    </label>
                    <div class="relative">
                        <input 
                            type="text" 
                            id="username" 
                            name="username"
                            class="w-full h-12 px-4 pr-11 bg-white border-2 border-neutral-200 rounded-xl text-base text-neutral-900 placeholder-neutral-700 focus:outline-none focus:border-primary transition-all"
                            placeholder="Choose a username"
                            maxlength="20"
                            required
                        >
                        <div class="absolute right-4 top-1/2 -translate-y-1/2 text-neutral-700">
                            <i class="fa-solid fa-at text-sm"></i>
                        </div>
                    </div>
                    <div class="flex items-center justify-between mt-1.5">
                        <p id="username-helper" class="text-xs text-neutral-700">
                            <span id="char-count">0</span>/20 characters
                        </p>
                        <p id="username-availability" class="text-xs hidden">
                            <span class="available text-success hidden">
                                <i class="fa-solid fa-check-circle"></i>
                                Available
                            </span>
                            <span class="taken text-danger hidden">
                                <i class="fa-solid fa-times-circle"></i>
                                Username taken
                            </span>
                        </p>
                    </div>
                </div>

                <div id="email-field" class="form-group">
                    <label for="email" class="block text-sm font-semibold text-neutral-900 mb-2">
                        Email Address
                        <span class="text-danger">*</span>
                    </label>
                    <div class="relative">
                        <input 
                            type="email" 
                            id="email" 
                            name="email"
                            class="w-full h-12 px-4 pr-11 bg-white border-2 border-neutral-200 rounded-xl text-base text-neutral-900 placeholder-neutral-700 focus:outline-none focus:border-primary transition-all"
                            placeholder="your@email.com"
                            required
                        >
                        <div class="absolute right-4 top-1/2 -translate-y-1/2 text-neutral-700">
                            <i class="fa-solid fa-envelope text-sm"></i>
                        </div>
                    </div>
                    <p class="text-xs text-danger mt-1.5 hidden email-error">
                        <i class="fa-solid fa-circle-exclamation"></i>
                        Please enter a valid email address
                    </p>
                </div>

                <div id="password-field" class="form-group">
                    <label for="password" class="block text-sm font-semibold text-neutral-900 mb-2">
                        Password
                        <span class="text-danger">*</span>
                    </label>
                    <div class="relative">
                        <input 
                            type="password" 
                            id="password" 
                            name="password"
                            class="w-full h-12 px-4 pr-11 bg-white border-2 border-neutral-200 rounded-xl text-base text-neutral-900 placeholder-neutral-700 focus:outline-none focus:border-primary transition-all"
                            placeholder="Create a strong password"
                            required
                        >
                        <button type="button" id="toggle-password" class="absolute right-4 top-1/2 -translate-y-1/2 text-neutral-700 w-6 h-6 flex items-center justify-center">
                            <i class="fa-solid fa-eye text-sm"></i>
                        </button>
                    </div>
                    <div id="password-strength" class="mt-2">
                        <div class="flex gap-1 mb-2">
                            <div class="strength-bar flex-1 h-1 bg-neutral-200 rounded-full transition-all"></div>
                            <div class="strength-bar flex-1 h-1 bg-neutral-200 rounded-full transition-all"></div>
                            <div class="strength-bar flex-1 h-1 bg-neutral-200 rounded-full transition-all"></div>
                            <div class="strength-bar flex-1 h-1 bg-neutral-200 rounded-full transition-all"></div>
                        </div>
                        <p id="strength-text" class="text-xs text-neutral-700">Password strength: <span class="font-semibold">Not set</span></p>
                    </div>
                    <div class="mt-2 space-y-1">
                        <p class="text-xs text-neutral-700 flex items-center gap-2">
                            <i id="length-check" class="fa-solid fa-circle text-[6px] text-neutral-200"></i>
                            At least 8 characters
                        </p>
                        <p class="text-xs text-neutral-700 flex items-center gap-2">
                            <i id="uppercase-check" class="fa-solid fa-circle text-[6px] text-neutral-200"></i>
                            One uppercase letter
                        </p>
                        <p class="text-xs text-neutral-700 flex items-center gap-2">
                            <i id="number-check" class="fa-solid fa-circle text-[6px] text-neutral-200"></i>
                            One number
                        </p>
                    </div>
                </div>

                <div id="confirm-password-field" class="form-group">
                    <label for="confirm-password" class="block text-sm font-semibold text-neutral-900 mb-2">
                        Confirm Password
                        <span class="text-danger">*</span>
                    </label>
                    <div class="relative">
                        <input 
                            type="password" 
                            id="confirm-password" 
                            name="confirm-password"
                            class="w-full h-12 px-4 pr-11 bg-white border-2 border-neutral-200 rounded-xl text-base text-neutral-900 placeholder-neutral-700 focus:outline-none focus:border-primary transition-all"
                            placeholder="Re-enter your password"
                            required
                        >
                        <button type="button" id="toggle-confirm-password" class="absolute right-4 top-1/2 -translate-y-1/2 text-neutral-700 w-6 h-6 flex items-center justify-center">
                            <i class="fa-solid fa-eye text-sm"></i>
                        </button>
                    </div>
                    <p class="text-xs text-danger mt-1.5 hidden match-error">
                        <i class="fa-solid fa-circle-exclamation"></i>
                        Passwords do not match
                    </p>
                    <p class="text-xs text-success mt-1.5 hidden match-success">
                        <i class="fa-solid fa-check-circle"></i>
                        Passwords match
                    </p>
                </div>

                <div id="terms-field" class="form-group pt-2">
                    <label class="flex items-start gap-3 cursor-pointer">
                        <input 
                            type="checkbox" 
                            id="terms-checkbox" 
                            name="terms"
                            class="w-5 h-5 mt-0.5 rounded border-2 border-neutral-200 text-primary focus:ring-2 focus:ring-primary/20 cursor-pointer"
                            required
                        >
                        <span class="text-sm text-neutral-900 leading-relaxed flex-1">
                            I agree to the <a href="#" class="text-primary font-semibold">Terms of Service</a> and <a href="#" class="text-primary font-semibold">Privacy Policy</a>
                        </span>
                    </label>
                </div>

            </form>

        </main>

        <footer id="footer" class="px-5 pb-6 pt-4 bg-white border-t border-neutral-200">
            <button id="continue-btn" class="w-full h-[52px] bg-neutral-200 text-neutral-700 text-base font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 opacity-50 cursor-not-allowed mb-4" disabled>
                Continue
                <i class="fa-solid fa-arrow-right text-sm"></i>
            </button>
            <div class="flex items-center justify-center">
                <p class="text-sm text-neutral-700">
                    Already have an account? 
                    <a href="#" class="text-primary font-semibold ml-1">Log In</a>
                </p>
            </div>
        </footer>
    </div>

    <script>
        const fullNameInput = document.getElementById('full-name');
        const usernameInput = document.getElementById('username');
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const confirmPasswordInput = document.getElementById('confirm-password');
        const termsCheckbox = document.getElementById('terms-checkbox');
        const continueBtn = document.getElementById('continue-btn');
        const charCount = document.getElementById('char-count');
        const usernameAvailability = document.getElementById('username-availability');
        const strengthBars = document.querySelectorAll('.strength-bar');
        const strengthText = document.getElementById('strength-text');

        usernameInput.addEventListener('input', function() {
            const length = this.value.length;
            charCount.textContent = length;

            if (length >= 3) {
                usernameAvailability.classList.remove('hidden');
                const isAvailable = Math.random() > 0.5;
                if (isAvailable) {
                    usernameAvailability.querySelector('.available').classList.remove('hidden');
                    usernameAvailability.querySelector('.taken').classList.add('hidden');
                } else {
                    usernameAvailability.querySelector('.available').classList.add('hidden');
                    usernameAvailability.querySelector('.taken').classList.remove('hidden');
                }
            } else {
                usernameAvailability.classList.add('hidden');
            }
            validateForm();
        });

        passwordInput.addEventListener('input', function() {
            const password = this.value;
            const lengthCheck = document.getElementById('length-check');
            const uppercaseCheck = document.getElementById('uppercase-check');
            const numberCheck = document.getElementById('number-check');

            let strength = 0;

            if (password.length >= 8) {
                lengthCheck.classList.remove('text-neutral-200');
                lengthCheck.classList.add('text-success');
                lengthCheck.classList.replace('fa-circle', 'fa-check-circle');
                strength++;
            } else {
                lengthCheck.classList.remove('text-success');
                lengthCheck.classList.add('text-neutral-200');
                lengthCheck.classList.replace('fa-check-circle', 'fa-circle');
            }

            if (/[A-Z]/.test(password)) {
                uppercaseCheck.classList.remove('text-neutral-200');
                uppercaseCheck.classList.add('text-success');
                uppercaseCheck.classList.replace('fa-circle', 'fa-check-circle');
                strength++;
            } else {
                uppercaseCheck.classList.remove('text-success');
                uppercaseCheck.classList.add('text-neutral-200');
                uppercaseCheck.classList.replace('fa-check-circle', 'fa-circle');
            }

            if (/[0-9]/.test(password)) {
                numberCheck.classList.remove('text-neutral-200');
                numberCheck.classList.add('text-success');
                numberCheck.classList.replace('fa-circle', 'fa-check-circle');
                strength++;
            } else {
                numberCheck.classList.remove('text-success');
                numberCheck.classList.add('text-neutral-200');
                numberCheck.classList.replace('fa-check-circle', 'fa-circle');
            }

            if (/[!@#$%^&*]/.test(password)) strength++;

            strengthBars.forEach((bar, index) => {
                if (index < strength) {
                    bar.classList.remove('bg-neutral-200');
                    if (strength <= 1) bar.classList.add('bg-danger');
                    else if (strength === 2) bar.classList.add('bg-warning');
                    else if (strength === 3) bar.classList.add('bg-success');
                    else bar.classList.add('bg-success');
                } else {
                    bar.classList.add('bg-neutral-200');
                    bar.classList.remove('bg-danger', 'bg-warning', 'bg-success');
                }
            });

            const strengthLabels = ['Weak', 'Fair', 'Good', 'Strong'];
            strengthText.innerHTML = `Password strength: <span class="font-semibold">${strength > 0 ? strengthLabels[strength - 1] : 'Not set'}</span>`;

            validateForm();
        });

        confirmPasswordInput.addEventListener('input', function() {
            const matchError = document.querySelector('.match-error');
            const matchSuccess = document.querySelector('.match-success');

            if (this.value.length > 0) {
                if (this.value === passwordInput.value) {
                    matchError.classList.add('hidden');
                    matchSuccess.classList.remove('hidden');
                    this.classList.remove('border-danger');
                    this.classList.add('border-success');
                } else {
                    matchError.classList.remove('hidden');
                    matchSuccess.classList.add('hidden');
                    this.classList.remove('border-success');
                    this.classList.add('border-danger');
                }
            } else {
                matchError.classList.add('hidden');
                matchSuccess.classList.add('hidden');
                this.classList.remove('border-danger', 'border-success');
            }
            validateForm();
        });

        emailInput.addEventListener('blur', function() {
            const emailError = document.querySelector('.email-error');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (this.value && !emailRegex.test(this.value)) {
                emailError.classList.remove('hidden');
                this.classList.add('border-danger');
            } else {
                emailError.classList.add('hidden');
                this.classList.remove('border-danger');
            }
        });

        function validateForm() {
            const isValid = 
                fullNameInput.value.trim() !== '' &&
                usernameInput.value.trim().length >= 3 &&
                emailInput.value.trim() !== '' &&
                /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value) &&
                passwordInput.value.length >= 8 &&
                confirmPasswordInput.value === passwordInput.value &&
                termsCheckbox.checked;

            if (isValid) {
                continueBtn.disabled = false;
                continueBtn.classList.remove('bg-neutral-200', 'text-neutral-700', 'opacity-50', 'cursor-not-allowed');
                continueBtn.classList.add('bg-success', 'text-white', 'shadow-lg', 'shadow-success/20', 'active:scale-[0.98]');
            } else {
                continueBtn.disabled = true;
                continueBtn.classList.add('bg-neutral-200', 'text-neutral-700', 'opacity-50', 'cursor-not-allowed');
                continueBtn.classList.remove('bg-success', 'text-white', 'shadow-lg', 'shadow-success/20', 'active:scale-[0.98]');
            }
        }

        [fullNameInput, usernameInput, emailInput, passwordInput, confirmPasswordInput, termsCheckbox].forEach(input => {
            input.addEventListener('input', validateForm);
            input.addEventListener('change', validateForm);
        });

        document.getElementById('toggle-password').addEventListener('click', function() {
            const type = passwordInput.type === 'password' ? 'text' : 'password';
            passwordInput.type = type;
            this.querySelector('i').classList.toggle('fa-eye');
            this.querySelector('i').classList.toggle('fa-eye-slash');
        });

        document.getElementById('toggle-confirm-password').addEventListener('click', function() {
            const type = confirmPasswordInput.type === 'password' ? 'text' : 'password';
            confirmPasswordInput.type = type;
            this.querySelector('i').classList.toggle('fa-eye');
            this.querySelector('i').classList.toggle('fa-eye-slash');
        });

        document.getElementById('back-btn').addEventListener('click', function() {
            window.location.href = 'role-select.html';
        });

        continueBtn.addEventListener('click', function() {
            if (!this.disabled) {
                console.log('Form submitted:', {
                    fullName: fullNameInput.value,
                    username: usernameInput.value,
                    email: emailInput.value
                });
                window.location.href = 'caregiver-reg-2.html';
            }
        });
    </script>
</body>
</html>